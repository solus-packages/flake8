From fc46be18ab9812f6b0f0b4f1c80ef083bc87ee49 Mon Sep 17 00:00:00 2001
From: "F. von Gellhorn" <flinux@vongellhorn.ch>
Date: Tue, 29 Jan 2019 11:11:30 +0100
Subject: [PATCH 1/1] Fix build files

---
 setup.cfg                      |  2 +-
 setup.py                       |  2 +-
 src/flake8/plugins/pyflakes.py | 10 ++++++++--
 3 files changed, 10 insertions(+), 4 deletions(-)

diff --git a/setup.cfg b/setup.cfg
index 72d040f..7159214 100644
--- a/setup.cfg
+++ b/setup.cfg
@@ -9,7 +9,7 @@ license_file = LICENSE
 requires-dist = 
 	enum34; python_version<"3.4"
 	configparser; python_version<"3.2"
-	pyflakes >= 2.0.0, < 2.1.0
+	pyflakes >= 2.0.0, < 2.2.0
 	pycodestyle >= 2.4.0, < 2.5.0
 	mccabe >= 0.6.0, < 0.7.0
 
diff --git a/setup.py b/setup.py
index e2adfbf..2340857 100644
--- a/setup.py
+++ b/setup.py
@@ -21,7 +21,7 @@ requires = [
     # http://flake8.pycqa.org/en/latest/faq.html#why-does-flake8-use-ranges-for-its-dependencies
     # And in which releases we will update those ranges here:
     # http://flake8.pycqa.org/en/latest/internal/releases.html#releasing-flake8
-    "pyflakes >= 2.0.0, < 2.1.0",
+    "pyflakes >= 2.0.0, < 2.2.0",
     "pycodestyle >= 2.4.0, < 2.5.0",
     "mccabe >= 0.6.0, < 0.7.0",
     "setuptools >= 30",
diff --git a/src/flake8/plugins/pyflakes.py b/src/flake8/plugins/pyflakes.py
index e2ef2c3..4435380 100644
--- a/src/flake8/plugins/pyflakes.py
+++ b/src/flake8/plugins/pyflakes.py
@@ -30,6 +30,8 @@ FLAKE8_PYFLAKES_CODES = {
     "TooManyExpressionsInStarredAssignment": "F621",
     "TwoStarredExpressions": "F622",
     "AssertTuple": "F631",
+    "IsLiteral": "F632",
+    "InvalidPrintSyntax": "F633",
     "BreakOutsideLoop": "F701",
     "ContinueOutsideLoop": "F702",
     "ContinueInFinally": "F703",
@@ -39,6 +41,7 @@ FLAKE8_PYFLAKES_CODES = {
     "DefaultExceptNotLast": "F707",
     "DoctestSyntaxError": "F721",
     "ForwardAnnotationSyntaxError": "F722",
+    "CommentAnnotationSyntaxError": "F723",
     "RedefinedWhileUnused": "F811",
     "RedefinedInListComp": "F812",
     "UndefinedName": "F821",
@@ -72,7 +75,7 @@ class FlakesChecker(pyflakes.checker.Checker):
     include_in_doctest = []
     exclude_from_doctest = []
 
-    def __init__(self, tree, filename):
+    def __init__(self, tree, file_tokens, filename):
         """Initialize the PyFlakes plugin with an AST tree and filename."""
         filename = utils.normalize_paths(filename)[0]
         with_doctest = self.with_doctest
@@ -97,7 +100,10 @@ class FlakesChecker(pyflakes.checker.Checker):
                     with_doctest = True
 
         super(FlakesChecker, self).__init__(
-            tree, filename, withDoctest=with_doctest
+            tree,
+            filename=filename,
+            withDoctest=with_doctest,
+            file_tokens=file_tokens,
         )
 
     @classmethod
-- 
2.20.1

